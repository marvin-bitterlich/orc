{"id":"orc-11t","title":"Test after rebuild","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:22:30.525827Z","updated_at":"2025-12-17T00:22:30.525827Z"}
{"id":"orc-16y","title":"Test after fresh rebuild at 00:35","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:35:30.512007Z","updated_at":"2025-12-17T00:35:30.512007Z"}
{"id":"orc-1t8","title":"After clean cache","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:24:57.528966Z","updated_at":"2025-12-17T00:24:57.528966Z"}
{"id":"orc-214","title":"Test color-animal ID feature","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T00:12:22.549967Z","updated_at":"2025-12-17T00:12:53.313802Z","closed_at":"2025-12-17T00:12:53.313802Z","close_reason":"test"}
{"id":"orc-2se","title":"Debug test with output","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:24:42.621832Z","updated_at":"2025-12-17T00:24:42.621832Z"}
{"id":"orc-2sx","title":"Another test","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:12:53.460392Z","updated_at":"2025-12-17T00:12:53.460392Z"}
{"id":"orc-2wx","title":"Test color-animal ID in beads repo","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:18:57.666007Z","updated_at":"2025-12-17T00:18:57.666007Z"}
{"id":"orc-31o","title":"Testing color-animal IDs now","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:16:07.500748Z","updated_at":"2025-12-17T00:16:07.500748Z"}
{"id":"orc-3mu","title":"Create bootstrap/prime command for new Claude sessions","description":"Create a command (slash command or hook) to prime new Claude sessions with beads workflow context. Should run 'bd prime' and inject other ORC-specific context.\n\nContext: After /clear or /compact, Claude forgets beads workflow. Need automatic context restoration for smooth handoffs.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:16:13.808633Z","updated_at":"2025-12-16T19:16:13.808633Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-3mu","depends_on_id":"orc-az7","type":"parent-child","created_at":"2025-12-16T21:39:27.657294Z","created_by":"daemon"}]}
{"id":"orc-3uv","title":"Another debug test","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:16:29.025583Z","updated_at":"2025-12-17T00:16:29.025583Z"}
{"id":"orc-4jh","title":"Implementation Phase - ORC Workflow Integration","description":"Implement ORC workflow integration with beads.\n\nTasks:\n- Update /worktree command to create epic beads and write .orc/bead_id\n- Update /bootstrap command to read .orc/bead_id and show bead context\n- Update /fix-list-fanout to support --phase flag for phase-based organization\n- Update /north-star command to create beads instead of files\n- Add .orc/ directory support to worktrees\n- Implement domain-level and epic-level north star discovery\n\nImplementation guided by design in orc-6op (Design Phase).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T23:36:36.146876Z","updated_at":"2025-12-16T23:36:36.146876Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-4jh","depends_on_id":"orc-az7","type":"parent-child","created_at":"2025-12-16T23:36:41.029788Z","created_by":"daemon"}]}
{"id":"orc-4jh.1","title":"Foundation: .orc/ structure and bead_id persistence","description":"Create .orc/ directory structure and implement bead_id persistence mechanism. This is the foundation for all other workflow integration work.\n\nKey tasks:\n- Define .orc/ directory structure (bead_id, metadata files)\n- Implement .orc/bead_id write/read utilities\n- Add .orc/ to .gitignore patterns\n- Document .orc/ structure in codebase","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:28:52.368082Z","updated_at":"2025-12-17T00:29:11.113136Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-4jh.1","depends_on_id":"orc-4jh","type":"parent-child","created_at":"2025-12-17T00:28:52.368768Z","created_by":"daemon"}]}
{"id":"orc-4jh.2","title":"Worktree command: Epic creation and bead_id writing","description":"Enhance /worktree command to automatically create epic beads and write .orc/bead_id when creating new worktrees.\n\nKey tasks:\n- Detect if issue is GitHub or standalone\n- Create epic bead with appropriate metadata\n- Write bead_id to .orc/bead_id in worktree\n- Add repo:* label based on repository\n- Test with both GitHub issues and manual worktrees","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:28:52.745334Z","updated_at":"2025-12-17T00:29:11.46809Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-4jh.2","depends_on_id":"orc-4jh","type":"parent-child","created_at":"2025-12-17T00:28:52.745907Z","created_by":"daemon"}]}
{"id":"orc-4jh.3","title":"Fix-list workflows: create and fanout commands","description":"Implement /fix-list-create command to capture bugs as child beads, and /fix-list-fanout to support both flat and phase-based organization.\n\nKey tasks:\n- Implement /fix-list-create (reads .orc/bead_id, creates child beads)\n- Implement /fix-list-fanout with --phase flag\n- Support flat sequential organization (default)\n- Support phase-based organization (--phase)\n- Preserve .fix-list markdown files in archive/","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:28:53.141271Z","updated_at":"2025-12-17T00:29:11.834954Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-4jh.3","depends_on_id":"orc-4jh","type":"parent-child","created_at":"2025-12-17T00:28:53.142015Z","created_by":"daemon"}]}
{"id":"orc-4jh.4","title":"Bootstrap integration: Load and display bead context","description":"Enhance /bootstrap command to read .orc/bead_id and present comprehensive bead context to investigation Claude.\n\nKey tasks:\n- Read .orc/bead_id from current worktree\n- Query bd for epic metadata and tree structure\n- Format bead context for Claude consumption\n- Include linked north stars (domain and epic-level)\n- Test with existing worktrees","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:28:53.53114Z","updated_at":"2025-12-17T00:29:12.193453Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-4jh.4","depends_on_id":"orc-4jh","type":"parent-child","created_at":"2025-12-17T00:28:53.531816Z","created_by":"daemon"}]}
{"id":"orc-4jh.5","title":"North-star command: Create and discover north stars","description":"Implement /north-star command to create and discover north stars as beads instead of markdown files.\n\nKey tasks:\n- Create domain-level north stars (kind:north-star + domain:*)\n- Create epic-level north stars (children with kind:north-star)\n- Discovery: query for north stars in current domain/epic\n- Integration with /bootstrap context\n- Migration path for existing markdown north stars","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:28:53.914447Z","updated_at":"2025-12-17T00:29:12.561848Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-4jh.5","depends_on_id":"orc-4jh","type":"parent-child","created_at":"2025-12-17T00:28:53.915153Z","created_by":"daemon"}]}
{"id":"orc-6op","title":"Design Phase - ORC Workflow Integration","description":"Design and document ORC workflow integration with beads.\n\nIncludes:\n- Agent lifecycle patterns\n- Workflow command integration (/worktree, /bootstrap, /fix-list-fanout, /north-star)\n- .orc/ directory structure\n- Phase-based organization patterns\n- North star bead integration\n\nDesign work captured in orc-az7.1.2 which should be moved under this phase.","status":"ready","priority":2,"issue_type":"task","created_at":"2025-12-16T23:36:20.488311Z","updated_at":"2025-12-16T23:36:28.228559Z","labels":["domain:beads-integration","kind:design","repo:orc"],"dependencies":[{"issue_id":"orc-6op","depends_on_id":"orc-az7","type":"parent-child","created_at":"2025-12-16T23:36:28.059033Z","created_by":"daemon"}]}
{"id":"orc-75p","title":"Install and configure beads CLI","description":"üìÑ Doc: epics/beads/install-and-configure-beads.md\n\nInstall beads CLI via Homebrew, initialize in ORC with worktree support, verify functionality. SQLite cache shared across all worktrees. COMPLETED: beads v0.30.0 installed and verified.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T19:15:52.308621Z","updated_at":"2025-12-16T19:15:57.847743Z","closed_at":"2025-12-16T19:15:57.847743Z","close_reason":"Installation completed successfully - beads v0.30.0 installed via Homebrew, initialized in ORC, functionality verified","labels":["beads","setup","tooling"]}
{"id":"orc-89a","title":"Establish bidirectional reference convention between beads and docs","description":"üìÑ Doc: epics/beads/bidirectional-reference-convention.md\n\nConvention for linking beads ‚Üî markdown docs with:\n- Bead ID at top of markdown files\n- File path in bead description (üìÑ Doc: path/to/file.md)\n- Grep-able, worktree-compatible, future beads.nvim integration ready","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T19:13:13.654663Z","updated_at":"2025-12-16T19:17:02.264266Z","closed_at":"2025-12-16T19:17:02.264266Z","close_reason":"Convention applied to all existing docs in epics/beads/ - all have bead references, all beads have doc references","labels":["beads","convention","documentation"]}
{"id":"orc-8u8","title":"Test bead: Verify beads installation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T19:00:53.506768Z","updated_at":"2025-12-16T19:01:20.821753Z","closed_at":"2025-12-16T19:01:20.821753Z","close_reason":"Closed"}
{"id":"orc-9qz","title":"Add hierarchical/tree view to bd list command","description":"Add --tree flag to 'bd list' command to show hierarchical parent-child relationships with indentation.\n\nProblem: bd list shows flat output, epics mixed with tasks. Parent-child relationships not visible.\n\nSolution: New --tree flag that:\n- Groups by top-level issues (no parents)\n- Shows children indented underneath parents\n- Displays epic completion inline (0/4)\n- Uses tree characters (‚îú‚îÄ ‚îî‚îÄ) for visual clarity\n\nDev approach:\n- Implement in ~/src/beads (beads repo clone)\n- Test against ORC's real beads database\n- Install local dev version to PATH\n\nUpstream contribution target: https://github.com/steveyegge/beads","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-16T19:40:55.311669Z","updated_at":"2025-12-16T20:15:16.913825Z","closed_at":"2025-12-16T20:15:16.913825Z","close_reason":"Feature complete and tested - tree view works perfectly with real data. Ready for upstream contribution.","labels":["beads","cli","upstream"]}
{"id":"orc-apq","title":"Stderr test","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:25:08.459477Z","updated_at":"2025-12-17T00:25:08.459477Z"}
{"id":"orc-az7","title":"ORC Workflow Integration Enhancements","description":"Integrate beads issue tracker into ORC workflows for better context management, task tracking, and agent coordination. Includes bootstrap/prime command improvements and agent bead management patterns.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-16T21:39:02.334749Z","updated_at":"2025-12-16T21:39:02.334749Z","labels":["domain:beads-integration","repo:orc"]}
{"id":"orc-az7.1","title":"Agent bead lifecycle management patterns","description":"Define patterns for how agents should interact with beads during their workflow:\n- When agents should create beads for subtasks\n- When agents should close/update beads upon completion\n- How agents determine work is complete vs needs more iteration\n- Documentation bead patterns (kind:doc) for complex contexts\n- Integration with existing ORC coordination patterns","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T21:39:35.413893Z","updated_at":"2025-12-16T21:39:35.413893Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-az7.1","depends_on_id":"orc-az7","type":"parent-child","created_at":"2025-12-16T21:39:35.414429Z","created_by":"daemon"}]}
{"id":"orc-az7.1.1","title":"Prevent redundant milestone numbering in bead titles","description":"When creating child beads (e.g., epic.1, epic.2), the hierarchical ID already encodes the ordering. Adding 'Milestone 1:', 'Milestone 2:' etc. to titles is redundant and adds visual noise.\n\n**Pattern to enforce:**\n- ‚ùå Bad: 'Milestone 1: CLI Interface'\n- ‚úÖ Good: 'CLI Interface'\n\n**Implementation options:**\n1. Document in agent instructions/CLAUDE.md\n2. Add to bead creation slash commands\n3. Add validation hook that warns on 'Milestone N:' pattern\n4. Include in agent lifecycle management patterns\n\nThe hierarchical ID (epic.1, epic.2, epic.3) already provides ordering context.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T21:40:43.557433Z","updated_at":"2025-12-16T22:22:39.11632Z","closed_at":"2025-12-16T22:22:39.11632Z","close_reason":"Folded into orc-az7.1.2 (ORC Workflow Integration: Design Documentation) as 'Bead Naming Conventions' section","labels":["domain:beads-integration","kind:doc","repo:orc"],"dependencies":[{"issue_id":"orc-az7.1.1","depends_on_id":"orc-az7.1","type":"parent-child","created_at":"2025-12-16T21:40:43.558544Z","created_by":"daemon"}]}
{"id":"orc-az7.1.2","title":"ORC Workflow Integration: Design Documentation","description":"## Consolidated Design Decisions\n\nThis bead documents the integrated design for ORC workflows with beads issue tracking.\n\n## Worktree to Epic Mapping\n\n**Core Principle**: Every worktree has an epic bead. An epic may have multiple worktrees over time.\n\n**Worktree ‚Üí Epic**: 1:1 (each worktree references exactly one epic)\n**Epic ‚Üí Worktrees**: 1:many (epic may be worked on in multiple worktrees over time)\n\nThe epic bead ID is stored in `.orc/bead_id` for bootstrap context.\n\n## Fix-List Workflow\n\n### Phase 1: Creation (Review)\n`/fix-list-create slug` generates:\n- Markdown file: `.orc/fix-list.md` (or `.tech_plans/` if not in worktree)\n- Epic bead with reference to markdown path\n- Output: Instructions to review and run fanout\n\n### Phase 2: Review\nEl Presidente edits `.orc/fix-list.md`:\n- Reorder, merge, remove items\n- Adjust priorities\n- Markdown is throwaway scaffolding\n\n### Phase 3: Fan-Out\n`/fix-list-fanout .orc/fix-list.md`:\n- **Optional**: Creates a phase bead to group all fix-list items (e.g., \"Implementation Phase\")\n- Creates child bead for each item (under epic or under phase bead)\n- Bead descriptions contain full item details + evidence\n- **Deletes markdown file** (beads become source of truth)\n- Fans out to agents with bead IDs\n- Agents update beads as they work\n\n**Phase-based fanout** (for complex fix-lists):\n```bash\n/fix-list-fanout .orc/fix-list.md --phase \"Implementation Phase\"\n‚Üí Creates phase bead (e.g., orc-abc) with dependency on epic\n‚Üí All fix-list items become children of phase bead (orc-abc.1, orc-abc.2, etc.)\n‚Üí Results in clean visual grouping in tree view\n```\n\n**Flat fanout** (for simple fix-lists):\n```bash\n/fix-list-fanout .orc/fix-list.md\n‚Üí All fix-list items become direct children of epic (epic.1, epic.2, etc.)\n```\n\n### Phase 4: Execution\nAgents receive bead IDs in prompts:\n- `bd update BEAD_ID --status in_progress` (start)\n- Implement fix, generate patch\n- `bd close BEAD_ID --reason \"Applied patch\"` (complete)\n\nNo markdown to maintain - beads are only tracking mechanism.\n\n## Worktree Command\n\n**Command**: `/worktree [description or bead-id]`\n\n### Path 1: Auto-Create Epic (Default)\n```bash\n/worktree fix DLQ performance issue\n‚Üí Creates epic bead with description\n‚Üí Creates worktree\n‚Üí Writes .orc/bead_id with epic ID\n‚Üí Launches TMux\n```\n\n### Path 2: Use Existing Bead\n```bash\n/worktree orc-esl.1\n‚Üí Looks up existing bead\n‚Üí Sets to in_progress\n‚Üí Creates worktree\n‚Üí Writes .orc/bead_id with bead ID\n‚Üí Launches TMux\n```\n\n**Result**: Every worktree always has a bead (no \"fast path\" without tracking).\n\n## North-Star Command Integration\n\n**Command**: `/north-star [subsystem-name]`\n\nThe /north-star command currently writes files to `.tech_plans/north-star.md`. It needs to be updated to create beads instead.\n\n### Current File-Based Behavior (To Be Changed)\n\nThe command interactively builds comprehensive architectural guidance through 7 steps:\n1. Grounding Scan (automated repository analysis)\n2. Purpose \u0026 Scope (interactive approval)\n3. Domain Map (interactive approval)\n4. Golden Journeys (interactive approval)\n5. Contracts \u0026 Invariants (interactive approval)\n6. Harnesses (interactive approval)\n7. Decision Rules (interactive approval)\n\n**Currently writes:** `.tech_plans/north-star.md` or `.tech_plans/north-star-[slug].md`\n\n### Updated Bead-Based Behavior\n\n**Step 7 should create a bead instead of writing a file:**\n\n```bash\n# 1. Create north star bead\nbd create \"North Star: [System Name]\" --type task --description \"[assembled content]\"\n# Gets ID: orc-xyz\n\n# 2. Add kind:north-star label\nbd label add orc-xyz kind:north-star\n\n# 3. Add domain or epic relationship\n# Option A: Domain-level north star\nbd label add orc-xyz domain:beads-integration\n\n# Option B: Epic-specific north star\nbd dep add orc-xyz epic-id --type related\n\n# 4. Mark as ready\nbd update orc-xyz --status ready\n```\n\n### North Star Bead Structure\n\n**Assembled content includes all sections:**\n\n```markdown\n# North Star: [System Name]\n\n## 1. Purpose \u0026 Scope\n[From Step 1]\n\n## 2. Domain Map\n[From Step 2]\n\n## 3. Golden Journeys\n[From Step 3]\n\n## 4. Contracts \u0026 Invariants\n[From Step 4]\n\n## 5. Harnesses\n[From Step 5]\n\n## 6. Decision Rules\n[From Step 6]\n\n## 7. Open Questions\n[Accumulated throughout process]\n\n## 8. Revision History\n- YYYY-MM-DD: [Short note about this version]\n```\n\n### Command Output Changes\n\n**Old output:**\n```\n‚úÖ North Star document created at .tech_plans/north-star.md\n```\n\n**New output:**\n```\n‚úÖ North Star bead created: orc-xyz\n   View with: bd show orc-xyz\n   Query domain: bd list --label domain:beads-integration\n\nMUST/BAN Summary:\n- [10-line summary of strongest rules]\n\nTop Open Questions:\n- [3 highest-risk questions if any]\n```\n\n### Integration Points\n\n**Reading north stars during work:**\n```bash\n# In /bootstrap\nif [ -f .orc/bead_id ]; then\n    epic_id=$(cat .orc/bead_id)\n\n    # Check for domain-level north star\n    domain=$(bd show $epic_id --json | jq -r '.labels[] | select(startswith(\"domain:\"))')\n    if [ -n \"$domain\" ]; then\n        echo \"Domain north star:\"\n        bd list --label \"$domain\" --label kind:north-star\n    fi\n\n    # Check for epic-specific north star\n    bd list --json | jq -r \".[] | select(.dependencies[] | .id == \\\"$epic_id\\\") | select(.labels[] | . == \\\"kind:north-star\\\") | .id\"\nfi\n```\n\n**In /fix-list-fanout with --north-star:**\n```bash\n# Old: /fix-list-fanout .orc/fix-list.md --north-star .orc/north-star.md\n# New: /fix-list-fanout .orc/fix-list.md --north-star orc-xyz\n\n# Command reads bead description instead of file\nnorth_star_content=$(bd show orc-xyz --json | jq -r '.description')\n```\n\n### Migration Notes\n\n**Existing north-star.md files:**\n- Can be migrated to beads: `bd create \"North Star: X\" --description \"$(cat .tech_plans/north-star.md)\"`\n- Add appropriate labels: kind:north-star, domain:*, repo:*\n- Delete file after migration\n\n**Benefits of bead-based approach:**\n- No file path management\n- Consistent with other workflow patterns\n- Query by label across all domains\n- Revision history in bead updates/notes\n- No git conflicts on documentation files\n\n## .orc/ Directory Structure\n\n```\n~/src/worktrees/ml-investigation-intercom/\n‚îú‚îÄ‚îÄ .orc/\n‚îÇ   ‚îú‚îÄ‚îÄ bead_id           # Epic/bead for this worktree\n‚îÇ   ‚îî‚îÄ‚îÄ fix-list.md       # Temporary fix-list (deleted on fanout)\n‚îú‚îÄ‚îÄ .git/\n‚îî‚îÄ‚îÄ ... (source code)\n```\n\n### bead_id File\nSingle line containing bead ID: `orc-esl.1`\n\nPurpose: Tell /bootstrap which bead this worktree is for\n\n**Decision**: Bootstrap reads this file but does NOT delete it. Accept potential drift as a feature - the file serves as a persistent breadcrumb for context. If work shifts focus, manually update .orc/bead_id or accept that it points to the original scope.\n\n### fix-list.md File\nTemporary fix-list during review phase.\n\nAlways deleted when `/fix-list-fanout` runs.\n\n### North-Star Alignment (Bead, Not File)\nOptional alignment rubric is stored as a **bead with kind:north-star label**, attached as a child of the epic.\n\nCommands that need north-star context (e.g., `/fix-list-fanout`) should:\n1. Read .orc/bead_id to get epic ID\n2. Query for child bead with label kind:north-star\n3. Use that bead's description as alignment guidance\n\n**No north-star.md file** - everything stays in beads.\n\n### Git Ignore\n`.orc/` should be in `.gitignore` - orchestration metadata, not source code.\n\n## Bootstrap Integration\n\n```bash\n# /bootstrap command checks .orc/\nif [ -f .orc/bead_id ]; then\n    bead_id=$(cat .orc/bead_id)\n    bd show $bead_id\n    bd dep tree $bead_id\n    # Note: .orc/bead_id is NOT deleted (serves as persistent breadcrumb)\nfi\n\nif [ -f .orc/fix-list.md ]; then\n    echo \"Fix-list pending: .orc/fix-list.md\"\n    echo \"Run /fix-list-fanout to create beads\"\nfi\n```\n\n## Agent Bead Lifecycle\n\n### Orchestrator Responsibilities\n- Creates epic beads for fix-lists or worktrees\n- Creates child beads during fanout\n- Sets beads to in_progress when creating worktrees\n- Coordinates bead state\n- **Never closes beads** (that's agent's job)\n\n### Investigation-Claude Responsibilities\n- Reads bead context via /bootstrap\n- Updates bead with progress notes\n- Creates sub-beads for discovered subtasks\n- Closes bead when work complete (with close reason)\n- Creates kind:doc beads for complex context\n\n### Agent Pattern in Fanout\nEach agent receives:\n- Bead ID(s) to work on\n- Fix-list item details\n- Instructions to update bead status\n\nAgent lifecycle:\n1. Start: `bd update BEAD_ID --status in_progress`\n2. Work: Implement fix, generate patch\n3. Complete: `bd close BEAD_ID --reason \"Patch applied, verified\"`\n\n## Bead Naming Conventions\n\n### Avoid Redundant Milestone Numbering\nWhen creating child beads (e.g., epic.1, epic.2), the hierarchical ID already encodes ordering. Do NOT add \"Milestone N:\" to titles.\n\n**Pattern to enforce:**\n- ‚ùå Bad: \"Milestone 1: CLI Interface\"\n- ‚úÖ Good: \"CLI Interface\"\n\n**Rationale:** Hierarchical IDs (epic.1, epic.2, epic.3) already provide ordering context.\n\n**Implementation options:**\n1. Document in agent instructions/CLAUDE.md\n2. Add to bead creation slash commands\n3. Add validation hook that warns on \"Milestone N:\" pattern\n\n## Bead Classification with kind:* Labels\n\nUse `kind:*` labels to categorize beads by their nature.\n\n### Documentation Beads\n- **kind:design** - Architectural decisions, workflow patterns, system design\n- **kind:research** - Investigation findings, analysis, discoveries\n- **kind:doc** - General documentation (process, context, guides)\n- **kind:north-star** - Alignment rubric/guidance for an epic (attached as child of epic)\n\n**Design bead status progression:**\n```\nin_progress ‚Üí ready ‚Üí (implementation starts) ‚Üí closed\n```\n\nkind:design beads use `status=in_progress` while actively designing, then transition to `status=ready` when design is complete and ready for implementation. The bead stays open until actual implementation is done and verified.\n\n**Custom status configuration:**\n```bash\nbd config set status.custom \"ready\"  # Already configured in ORC\n```\n\n### Work Beads\n- **kind:work-order** - Default - generic work items (features, tasks)\n- **kind:bugfix** - Bug fixes and corrections\n- **kind:test** - Testing work (writing tests, test infrastructure)\n- **kind:release** - Release-related work (changelogs, deployment)\n\n### Usage Examples\n```bash\n# Documentation beads\nbd label add orc-az7.1.2 kind:design\nbd label add orc-abc kind:research\nbd label add orc-f7z.2 kind:doc\nbd label add orc-xyz.1 kind:north-star  # Alignment rubric for epic orc-xyz\n\n# Work beads\nbd label add orc-xyz.2 kind:bugfix\nbd label add orc-xyz.3 kind:test\nbd label add orc-xyz.4 kind:release\n```\n\n### Tree View Display\n```bash\nbd list --tree\n\norc-xyz (0/6) - Fix webhook reliability\n  ‚îú‚îÄ .1 [NORTH-STAR] - Reliability principles \u0026 constraints\n  ‚îú‚îÄ .2 [RESEARCH] - Webhook failure investigation\n  ‚îú‚îÄ .3 [DESIGN] - Timeout \u0026 retry strategy\n  ‚îú‚îÄ .4 [BUGFIX] - Add 10s timeout to HTTP client\n  ‚îú‚îÄ .5 [TEST] - Add timeout test coverage\n  ‚îî‚îÄ .6 [RELEASE] - Deploy with feature flag\n```\n\nNote: kind:work-order is hidden by default in tree view since it's the default type.\n\n## Phase-Based Epic Organization\n\nFor complex epics, use **L1 phase beads** (separate bead IDs with dependencies) instead of flat sequential children. This creates visual grouping and better organization.\n\n### Structure Pattern\n\nInstead of flat children (`epic.1`, `epic.2`, `epic.3`...), create phase beads that depend on the epic:\n\n```\norc-xyz (0/0) - Fix webhook reliability\n  ‚îÇ\n  ‚îú‚îÄ orc-abc [RESEARCH] - Investigation Phase\n  ‚îÇ   ‚îú‚îÄ .1 - Analyze failure patterns\n  ‚îÇ   ‚îî‚îÄ .2 - Review timeout behavior\n  ‚îÇ\n  ‚îú‚îÄ orc-def [DESIGN] - Architecture Phase\n  ‚îÇ   ‚îî‚îÄ .1 - Timeout \u0026 retry strategy\n  ‚îÇ\n  ‚îú‚îÄ orc-ghi - Implementation Phase\n  ‚îÇ   ‚îú‚îÄ .1 - Add HTTP client timeout\n  ‚îÇ   ‚îú‚îÄ .2 - Implement retry logic\n  ‚îÇ   ‚îî‚îÄ .3 - Add circuit breaker\n  ‚îÇ\n  ‚îú‚îÄ orc-jkl [TEST] - Testing Phase\n  ‚îÇ   ‚îú‚îÄ .1 - Unit tests\n  ‚îÇ   ‚îî‚îÄ .2 - Integration tests\n  ‚îÇ\n  ‚îî‚îÄ orc-mno [NORTH-STAR] - Reliability principles\n```\n\n### Creating Phase-Based Structure\n\n```bash\n# 1. Create the epic\nbd create \"Fix webhook reliability\" --type epic\n# Gets ID: orc-xyz\n\n# 2. Create phase beads\nbd create \"Investigation Phase\" --type task\nbd label add orc-abc kind:research\nbd dep add orc-abc orc-xyz --type parent-child\n\nbd create \"Architecture Phase\" --type task\nbd label add orc-def kind:design\nbd dep add orc-def orc-xyz --type parent-child\n\nbd create \"Implementation Phase\" --type task\nbd dep add orc-ghi orc-xyz --type parent-child\n\nbd create \"Testing Phase\" --type task\nbd label add orc-jkl kind:test\nbd dep add orc-jkl orc-xyz --type parent-child\n\nbd create \"Reliability principles\" --type task\nbd label add orc-mno kind:north-star\nbd dep add orc-mno orc-xyz --type related\n\n# 3. Create work items under each phase\nbd create \"Analyze failure patterns\" --type task --parent orc-abc\nbd create \"Review timeout behavior\" --type task --parent orc-abc\n# ... etc\n```\n\n### When to Use Phase-Based vs Flat\n\n**Use phase-based organization when:**\n- Epic has 10+ work items\n- Work naturally groups into phases (research ‚Üí design ‚Üí implementation ‚Üí test)\n- You want independent completion tracking per phase\n- Multiple people/agents might work on different phases concurrently\n\n**Use flat sequential children when:**\n- Epic has \u003c10 work items\n- Work is straightforward, linear progression\n- No clear phase boundaries\n- Simple tracking needs\n\n### Benefits\n\n1. **Visual clarity** - Phases are visually separated in tree view\n2. **Independent hierarchies** - Each phase can have deep subtask trees\n3. **Flexible ordering** - Phases can be created/worked/closed independently\n4. **Better progress tracking** - Epic shows N phases, each phase shows its own completion\n5. **Reusable phases** - North-star or research beads can apply to multiple epics\n\n### Common Phase Patterns\n\n**Full lifecycle epic:**\n```\nEpic\n‚îú‚îÄ [NORTH-STAR] - Guiding principles (optional)\n‚îú‚îÄ [RESEARCH] - Investigation\n‚îú‚îÄ [DESIGN] - Architecture decisions\n‚îú‚îÄ Implementation - Main work\n‚îú‚îÄ [TEST] - Testing \u0026 validation\n‚îî‚îÄ [RELEASE] - Deployment\n```\n\n**Bug fix epic:**\n```\nEpic\n‚îú‚îÄ [RESEARCH] - Root cause analysis\n‚îú‚îÄ [BUGFIX] - Fix implementation\n‚îî‚îÄ [TEST] - Regression tests\n```\n\n**Documentation epic:**\n```\nEpic\n‚îú‚îÄ [RESEARCH] - Gather requirements\n‚îú‚îÄ [DOC] - Write documentation\n‚îî‚îÄ [RELEASE] - Publish\n```\n\n## Semantic Suffix Pattern (Planned)\n\nAn alternative to separate phase beads is using **semantic hierarchical suffixes** like `epic.design` and `epic.implement`.\n\n### Current Behavior\n\nBeads supports creating IDs with non-numeric suffixes using the `--id` flag:\n```bash\nbd create \"Design Phase\" --id orc-az7.design\nbd create \"Implementation Phase\" --id orc-az7.implement\n```\n\nHowever, the tree view currently only recognizes **numeric** suffixes (`.1`, `.2`, `.3`) as children. Non-numeric suffixes are treated as top-level beads.\n\n### Proposed Enhancement\n\nUpdate tree view rendering to recognize semantic suffixes as hierarchical children:\n\n**Pattern:**\n```\norc-az7 (0/2) - ORC Workflow Integration\n  ‚îú‚îÄ .design ready [DESIGN] - Design Phase\n  ‚îÇ   ‚îú‚îÄ .1 - Agent lifecycle patterns\n  ‚îÇ   ‚îî‚îÄ .2 ready - Design Documentation\n  ‚îÇ\n  ‚îî‚îÄ .implement open - Implementation Phase\n      ‚îú‚îÄ .1 - Update /worktree command\n      ‚îú‚îÄ .2 - Update /bootstrap command\n      ‚îî‚îÄ .3 - Update /fix-list-fanout command\n```\n\n### Standard Semantic Suffixes\n\nRecommended semantic suffixes that align with `kind:*` labels:\n\n- `.design` - Design phase (pairs with `kind:design`)\n- `.implement` - Implementation phase (pairs with `kind:work-order`)\n- `.test` - Testing phase (pairs with `kind:test`)\n- `.research` - Research phase (pairs with `kind:research`)\n- `.doc` - Documentation phase (pairs with `kind:doc`)\n- `.release` - Release phase (pairs with `kind:release`)\n- `.bugfix` - Bug fix phase (pairs with `kind:bugfix`)\n\n### Benefits Over Phase Beads\n\n**Semantic suffixes:**\n- ‚úÖ Self-documenting IDs (`orc-az7.design` vs `orc-6op`)\n- ‚úÖ Cleaner hierarchy (true parent-child via ID structure)\n- ‚úÖ No dependency management needed\n- ‚úÖ Suffix semantically matches kind label\n\n**Phase beads (current approach):**\n- ‚úÖ Works today without code changes\n- ‚úÖ Visual separation already implemented\n- ‚ö†Ô∏è Random IDs (`orc-6op`, `orc-4jh`) less readable\n- ‚ö†Ô∏è Requires dependency relationships\n\n### Implementation Requirements\n\n**Tree rendering changes needed in beads CLI:**\n\n1. Update parent-child detection logic to recognize semantic suffixes:\n   ```go\n   // Current: only matches numeric like \"orc-az7.1\"\n   // Needed: also match semantic like \"orc-az7.design\"\n   ```\n\n2. Render semantic children with proper indentation\n\n3. Define ordering for semantic vs numeric children:\n   - Option A: Semantic first, then numeric\n   - Option B: Alphabetical for semantic\n   - Option C: Configurable order\n\n4. Update completion tracking `(N/M)` to count semantic children\n\n### Migration Path\n\nOnce tree rendering is updated:\n\n**Step 1: Create semantic phase beads**\n```bash\nbd create \"Design Phase\" --id orc-az7.design --type task\nbd label add orc-az7.design kind:design domain:beads-integration repo:orc\nbd update orc-az7.design --status ready\n\nbd create \"Implementation Phase\" --id orc-az7.implement --type task\nbd label add orc-az7.implement domain:beads-integration repo:orc\n```\n\n**Step 2: Migrate existing hierarchical work under phases**\n```bash\n# Move orc-az7.1 and orc-az7.1.2 under orc-az7.design\n# This requires bead content migration, not just relabeling\n```\n\n**Step 3: Remove temporary phase beads**\n```bash\nbd close orc-6op --reason \"Replaced by orc-az7.design\"\nbd close orc-4jh --reason \"Replaced by orc-az7.implement\"\n```\n\n### Status\n\n**Current state:** Using phase beads (orc-6op, orc-4jh) with dependencies\n\n**Planned enhancement:** Tracked in beads CLI enhancement epic (orc-f7z or separate bead)\n\n**Implementation priority:** After tree view formatting work (orc-f7z.1) is complete\n\n## Reading/Editing Long-Form Documentation\n\n**Problem**: Bead descriptions can contain long design docs, research findings, etc. Reading via `bd show` is painful.\n\n**Solution**: beads.nvim vim plugin (orc-esl epic)\n\nThe vim plugin provides native editing experience for bead descriptions while keeping beads as source of truth. See orc-esl for details.\n\n**Alternative approaches considered but rejected:**\n- monitor-webui (no editing)\n- bd show | bat (read-only)\n- markdown sync scripts (complex, error-prone)\n\n## Design Principles\n\n1. **Every worktree has a bead** - Always tracked, no \"fast path\"\n2. **Opt-in tracking** - Beads created automatically, but lightweight\n3. **Temporary scaffolding** - Markdown for human review, deleted after\n4. **Permanent structure** - Beads are source of truth\n5. **Persistent breadcrumbs** - .orc/bead_id retained for context (not deleted)\n6. **Single namespace** - All orchestration metadata in .orc/\n7. **Git-ignored** - Orchestration metadata doesn't pollute repos\n8. **Persistent vs ephemeral** - Beads for persistent docs, not Claude's internal planning\n\n## Persistent Documentation vs Claude's Plan Tool\n\n### Claude's Plan Tool (Ephemeral)\n- Purpose: Claude's cognitive process before executing\n- Lifecycle: Lives only during conversation\n- Example: \"I'll first search X, then read Y, then implement Z\"\n- Storage: Not persisted\n- User visibility: Optional UI element\n\n### Beads Documentation (Persistent)\n- Purpose: Team knowledge, design decisions, research findings\n- Lifecycle: Created once, referenced forever\n- Example: kind:design, kind:research beads\n- Storage: Beads database (descriptions)\n- User visibility: Always via `bd show` or vim plugin\n\nThe Plan tool is for Claude's thinking, beads are for team artifacts.\n\n## Design Decisions Log\n\n### Fix-List Path Tracking\n**Question**: Should epic beads track fix-list file path even after deletion?\n**Decision**: No - markdown is throwaway scaffolding, no need to preserve path references.\n\n### Sub-Bead Creation Strategy\n**Question**: When should agents create sub-beads vs just work items?\n**Decision**: TBD - will evolve through practice (ship to learn).\n\n## Related Beads\n\n- orc-az7: ORC Workflow Integration Enhancements (parent epic)\n- orc-az7.1: Agent bead lifecycle management patterns\n- orc-3mu: Create bootstrap/prime command\n- orc-esl: beads.nvim vim plugin (solves long-form doc editing)","notes":"DECISION: .orc/bead_id should NOT be deleted by bootstrap. Accept potential drift as a feature - the file serves as a breadcrumb for context loading.","status":"ready","priority":2,"issue_type":"task","created_at":"2025-12-16T22:19:22.572245Z","updated_at":"2025-12-16T23:44:52.772921Z","labels":["domain:beads-integration","kind:design","repo:orc"],"dependencies":[{"issue_id":"orc-az7.1.2","depends_on_id":"orc-az7.1","type":"parent-child","created_at":"2025-12-16T22:19:22.573078Z","created_by":"daemon"}]}
{"id":"orc-c06","title":"Color animal test 3","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:14:34.408512Z","updated_at":"2025-12-17T00:14:34.408512Z"}
{"id":"orc-ep4","title":"Direct binary test","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:24:18.729024Z","updated_at":"2025-12-17T00:24:18.729024Z"}
{"id":"orc-esl","title":"beads.nvim - Vim Plugin","description":"üìÑ Doc: epics/beads/north-star-beads-vim-plugin.md\n\nLightweight Neovim plugin for beads issue tracker. Fugitive-style interface with TDD approach using plenary.nvim. Four clean domains: CLI Integration, Buffer Management, Status Display, Command Surface.\n\nSee also: epics/beads/vim-plugin-plan.md for detailed implementation milestones.\n\n## Why This Plugin Is Needed\n\n**The Usability Problem:**\nBeads are excellent for structured issue tracking, dependencies, and searchability. However, reading/editing long-form documentation (kind:design, kind:research, kind:doc beads) via `bd show` is painful for extended reading/editing.\n\n**Alternatives Considered:**\n1. **monitor-webui**: Good for browsing, but can't edit beads\n2. **bd show | bat**: Good for reading, but read-only and one-at-a-time\n3. **Export to markdown**: Requires manual sync, can get out of sync with beads\n4. **Markdown sync scripts**: Overly complex bidirectional sync, error-prone\n\n**The Solution:**\nVim plugin provides native editing experience for bead descriptions while keeping beads as source of truth. Read and edit long-form docs inline without leaving Vim, similar to how Fugitive works for git.\n\n**Use Cases:**\n- Read/edit design documents (kind:design beads)\n- Read/edit investigation findings (kind:research beads)\n- Review/edit documentation beads (kind:doc beads)\n- Quick access to bead metadata (status, labels, dependencies)\n\n**Key Principle:**\nWorktrees map 1:1 to epic beads. Epic may have many worktrees over time, but each worktree always has exactly one epic bead referenced in `.orc/bead_id`.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-16T19:15:40.376212Z","updated_at":"2025-12-16T22:47:16.118508Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-esl","depends_on_id":"orc-75p","type":"blocks","created_at":"2025-12-16T19:16:18.466966Z","created_by":"daemon"}]}
{"id":"orc-esl.1","title":"CLI Interface","description":"Call bd CLI commands and parse JSON output. Pure logic, no UI.\n\nTests: cli_spec.lua\nImplementation: lua/beads/cli.lua with list(), show(), ready(), complete() functions","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:30:13.973881Z","updated_at":"2025-12-16T21:40:12.156208Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-esl.1","depends_on_id":"orc-esl","type":"parent-child","created_at":"2025-12-16T19:30:13.974707Z","created_by":"daemon"}]}
{"id":"orc-esl.2","title":"UI Helpers (Buffer Management)","description":"Create and manage scratch buffers for displaying content.\n\nTests: ui_spec.lua\nImplementation: lua/beads/ui.lua with create_scratch_buffer() function\nBuffers: nofile, non-modifiable","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:30:24.498124Z","updated_at":"2025-12-16T21:40:18.13131Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-esl.2","depends_on_id":"orc-esl","type":"parent-child","created_at":"2025-12-16T19:30:24.498965Z","created_by":"daemon"}]}
{"id":"orc-esl.3","title":"Status Formatter","description":"Format beads data into readable status display. Pure functions, no side effects.\n\nTests: status_spec.lua\nImplementation: lua/beads/status.lua with format_bead(), format_list() functions","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:30:34.622763Z","updated_at":"2025-12-16T21:40:22.66288Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-esl.3","depends_on_id":"orc-esl","type":"parent-child","created_at":"2025-12-16T19:30:34.62342Z","created_by":"daemon"}]}
{"id":"orc-esl.4","title":"Integration (Wire Everything Together)","description":"Wire together CLI, UI, and Status formatter to create :Beads command.\n\nTests: integration_spec.lua\nImplementation: lua/beads/init.lua, plugin/beads.vim\nCommands: :Beads, :BeadsReady, :BeadsShow","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T19:30:42.415857Z","updated_at":"2025-12-16T21:40:27.283048Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-esl.4","depends_on_id":"orc-esl","type":"parent-child","created_at":"2025-12-16T19:30:42.416594Z","created_by":"daemon"}]}
{"id":"orc-f27","title":"Debug test","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:16:23.924582Z","updated_at":"2025-12-17T00:16:23.924582Z"}
{"id":"orc-f7z","title":"beads CLI Enhancements","description":"Iterative improvements to beads CLI UX, formatting, and integration with ORC workflows","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-16T21:16:38.544773Z","updated_at":"2025-12-16T21:16:38.544773Z","labels":["domain:beads-integration","repo:orc"]}
{"id":"orc-f7z.1","title":"Tree view formatting refinements","description":"Continue iterating on bd list --tree output formatting (ID colors, status display, repo colors, label display) until UX feels right. Work started in ~/src/beads branch feature/list-tree-view","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-16T21:16:44.152171Z","updated_at":"2025-12-16T21:36:53.958862Z","labels":["domain:beads-integration","repo:orc"],"dependencies":[{"issue_id":"orc-f7z.1","depends_on_id":"orc-f7z","type":"parent-child","created_at":"2025-12-16T21:16:44.152774Z","created_by":"daemon"}]}
{"id":"orc-f7z.2","title":"Development Context: Beads CLI Tree View Implementation","description":"Development workflow and context for working on beads CLI enhancements in ~/src/beads\n\n## Repository Location\n- **Path**: ~/src/beads\n- **Branch**: feature/list-tree-view\n- **Language**: Go\n\n## Key Files\n- **cmd/bd/list.go**: Main file for tree view implementation (~900-1000 lines)\n  - renderIssueTree(): Entry point for tree rendering\n  - renderIssueNode(): Formats individual issue lines\n  - colorizeID(), colorizeStatus(), colorizeKind(), colorizeRepo(), colorizeLabel(): Color functions\n\n## Development Loop\n\n### Quick Testing (Recommended)\n```bash\ncd ~/src/beads\ngo run ./cmd/bd list --tree\ngo run ./cmd/bd list --tree --limit 10\ngo run ./cmd/bd list --tree --label beads-integration\n```\n\n### Building and Installing\n```bash\n# Build binary in current directory\nmake build  # or: go build -o bd ./cmd/bd\n\n# Install to GOPATH/bin (makes bd command available globally)\nmake install\n```\n\n### Running Tests\n```bash\n# Run short tests (recommended during development)\ngo test -short ./...\n\n# Run specific package tests\ngo test ./cmd/bd/...\n\n# Full test suite\nmake test\n```\n\n## Current Output Format\n```\n\u003ccolored-id\u003e \u003ccolored-status\u003e [KIND] @\u003ccolored-repo\u003e [label1] [label2] (completion) - Title\n```\n\nExample:\n```\norc-f7z open [WORK-ORDER] @orc [beads-integration] (0/1) - beads CLI Enhancements\n  ‚îî‚îÄ orc-f7z.1 open [WORK-ORDER] @orc [beads-integration] - Tree view formatting refinements\n```\n\n## Color Implementation\n- **ID colors**: Deterministic hash-based using github.com/fatih/color\n- **Status colors**: \n  - open: FgHiGreen (light green)\n  - in_progress: FgGreen + Bold (vivid green)\n  - blocked: FgRed (red)\n  - closed: FgHiBlack (gray)\n- **Kind colors**: Specific colors per kind type (research=yellow, tech-plan=blue, etc.)\n- **Repo/Label colors**: Deterministic hash-based\n\n## Special Label Handling\nThe tree view extracts special meaning from certain labels:\n- **kind:*** - Extracted and displayed as [KIND] with specific colors\n- **repo:*** - Extracted and displayed as @repo with deterministic colors\n- Other labels shown individually with deterministic colors\n\n## Testing with ORC Database\nSince BEADS_DB points to ORC database, you can test with real ORC issues:\n```bash\nexport BEADS_DB=\"/Users/looneym/src/orc/.beads/beads.db\"\nbd list --tree --label beads-integration\n```\n\n## Commit and Git Workflow\nWork is done on feature/list-tree-view branch. When making changes:\n```bash\ngit status\ngit add cmd/bd/list.go\ngit commit -m \"feat(list): [description of change]\"\n```\n\n## Common Issues\n1. **Colors not showing**: Make sure terminal supports ANSI colors\n2. **Changes not visible**: Need to rebuild/reinstall after code changes\n3. **Test data**: Use --limit flag to avoid overwhelming output during development","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T21:34:44.054033Z","updated_at":"2025-12-16T21:34:44.054033Z","labels":["domain:beads-integration","kind:doc","repo:orc"],"dependencies":[{"issue_id":"orc-f7z.2","depends_on_id":"orc-f7z","type":"parent-child","created_at":"2025-12-16T21:34:44.054769Z","created_by":"daemon"}]}
{"id":"orc-f7z.3","title":"Human-friendly ID generation (color-animal)","description":"Add configurable ID generation style to beads for more memorable issue IDs.\n\n## Feature Request for Beads CLI\n\nThis is a feature request for the beads CLI itself (repo:beads), tracked in the ORC beads-integration domain.\n\n## Motivation\n\nCurrent hash-based IDs like `bd-6op` or `orc-4jh` are not memorable or conversational. Color-animal IDs like `purple-wombat` or `crimson-falcon` would be:\n\n- **Memorable**: Easy to remember and reference\n- **Conversational**: Natural to say in meetings/discussions  \n- **Fun**: Makes issue tracking feel lighter\n- **Still unique**: 20 colors √ó 50 animals = 1000 combinations per prefix\n\n## Proposed API\n\n```bash\nbd config set id.style color-animal\nbd create \"New epic\"\n# Creates: orc-purple-wombat\n\n# Works with semantic suffixes\nbd create \"Design Phase\" --id orc-purple-wombat.design\nbd create \"Implementation\" --id orc-purple-wombat.implement\n```\n\n## Implementation Overview\n\nSee full design in bead description for:\n- ID style config system\n- Color/animal word lists (20 colors √ó 50 animals)\n- Collision handling with suffix fallback\n- Backward compatibility with hash IDs\n- Testing strategy\n\n## Integration with ORC\n\nOnce implemented in beads:\n- ORC epics get memorable names: `crimson-falcon`, `golden-panda`\n- Semantic suffixes: `crimson-falcon.design`, `crimson-falcon.implement`\n- Easier to reference in conversation and documentation\n- Still works with all existing workflows","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-16T23:49:50.339225Z","updated_at":"2025-12-16T23:56:06.948893Z","labels":["domain:beads-integration","repo:beads"],"dependencies":[{"issue_id":"orc-f7z.3","depends_on_id":"orc-f7z","type":"parent-child","created_at":"2025-12-16T23:49:50.339946Z","created_by":"daemon"}]}
{"id":"orc-f7z.3.1","title":"Implement color-animal ID generation system","description":"Implement the color-animal ID generation feature as designed in the implementation plan.\n\n## Overview\nAdd configurable ID style via `bd config set id.style color-animal` to generate memorable IDs like `orc-purple-wombat` instead of `orc-a3f8e9`.\n\n## Components\n1. Word lists (20 colors √ó 50 animals = 1000 combinations)\n2. Deterministic generator using content hash\n3. Collision handling with numeric suffixes (-2, -3, etc)\n4. Config-based routing in GenerateIssueID()\n\n## Files to Create\n- word_lists.go - Color and animal arrays\n- color_animal_ids.go - Core generator logic\n- color_animal_ids_test.go - Comprehensive tests\n\n## Files to Modify\n- ids.go - Add routing logic in GenerateIssueID() and GenerateBatchIssueIDs()\n- config.go - Update help text to document id.style option\n\n## Implementation Details\nSee full plan at /Users/looneym/.claude/plans/ancient-drifting-hickey.md\n\n## Success Criteria\n‚úÖ Can set id.style config\n‚úÖ New issues get color-animal IDs\n‚úÖ Collision handling works\n‚úÖ Hierarchical children work\n‚úÖ All tests pass\n‚úÖ Backward compatibility maintained","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T00:01:26.453013Z","updated_at":"2025-12-17T00:21:30.296289Z","closed_at":"2025-12-17T00:21:30.296289Z","close_reason":"Successfully implemented color-animal ID generation system with full test coverage","dependencies":[{"issue_id":"orc-f7z.3.1","depends_on_id":"orc-f7z.3","type":"parent-child","created_at":"2025-12-17T00:01:26.453727Z","created_by":"daemon"}]}
{"id":"orc-f7z.4","title":"Special tag taxonomy and rendering","description":"Implement proper extraction and rendering for ORC's special tag patterns.\n\n## Special Tag Patterns\n\nORC uses structured labels to organize work:\n\n### domain:* Labels\n- **Purpose**: Cross-cutting concerns that span multiple epics\n- **Example**: `domain:beads-integration`, `domain:infrastructure`, `domain:testing-framework`\n- **Rendering**: Extract and display specially (not inline with other labels)\n- **Usage**: All work in a domain shares this label, including domain-level north stars\n\n### kind:* Labels  \n- **Purpose**: Nature/type of work within an epic\n- **Values**: \n  - `kind:design` - Architectural decisions, workflow patterns\n  - `kind:research` - Investigation findings, analysis\n  - `kind:doc` - General documentation\n  - `kind:north-star` - Alignment rubric for epic/domain\n  - `kind:work-order` - Default generic work (hidden in tree)\n  - `kind:bugfix` - Bug fixes\n  - `kind:test` - Testing work\n  - `kind:release` - Release-related work\n- **Rendering**: Display as colored uppercase badge [DESIGN], [RESEARCH], etc.\n- **Current**: Already implemented in tree view\n\n### repo:* Labels\n- **Purpose**: Which repository owns the work\n- **Example**: `repo:orc`, `repo:beads`, `repo:intercom`, `repo:infrastructure`\n- **Rendering**: Display as `@repo` prefix (e.g., `@orc`, `@beads`)\n- **Current**: Already implemented in tree view\n\n## Implementation Tasks\n\n### 1. Extract domain:* labels\n```go\n// In tree view rendering\nif hasLabel(\"domain:\") {\n    domain := extractDomain(labels)\n    // Show at root level or in special position\n    // Don't show inline with other labels\n}\n```\n\n### 2. Document in --help\nAdd to `bd list --help`:\n```\nSpecial Labels:\n  domain:*  Cross-cutting domain (e.g., domain:beads-integration)\n  kind:*    Work type (design, research, test, bugfix, etc.)\n  repo:*    Repository owner (shown as @repo)\n```\n\n### 3. Add label validation\nWarn when creating labels that look like special tags but are malformed:\n```bash\nbd label add orc-xyz domains:test\n# Warning: Did you mean 'domain:test' (not 'domains:')?\n```\n\n### 4. Color coding\n- `domain:*` - Blue/cyan (organizational)\n- `kind:*` - Already has colors per type\n- `repo:*` - Gray (informational)\n\n## Testing\n\nTest that tree view correctly renders:\n```\ndomain:beads-integration\n‚îú‚îÄ orc-az7 @orc [design] - Epic title\n‚îÇ   ‚îî‚îÄ .1 @orc - Task title\n‚îî‚îÄ orc-xyz [NORTH-STAR] @orc - North star\n```\n\n## Documentation\n\nUpdate north star (orc-ikf) with complete tag taxonomy.","notes":"TODO: Update north star (orc-ikf) with comprehensive Label Taxonomy section from /tmp/north-star-labels.md - this should replace/expand the current 'Bead Classification: kind:* Labels' section and incorporate Multi-Repo Usage","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T23:53:26.231836Z","updated_at":"2025-12-16T23:56:13.83413Z","labels":["domain:beads-integration","repo:beads"],"dependencies":[{"issue_id":"orc-f7z.4","depends_on_id":"orc-f7z","type":"parent-child","created_at":"2025-12-16T23:53:26.232598Z","created_by":"daemon"}]}
{"id":"orc-f7z.5","title":"Context-aware bd list (read .orc/bead_id)","description":"Make bd list --tree context-aware by default, reading .orc/bead_id to show only relevant work.\n\n## Current Behavior\n\n`bd list --tree` shows ALL beads in the database, which is overwhelming when working in a specific worktree/epic.\n\n## Proposed Behavior\n\n### Default: Context-Aware Mode\n\nWhen `.orc/bead_id` exists, `bd list --tree` shows:\n1. The epic from `.orc/bead_id`\n2. All its children/descendants\n3. Any north stars linked to it (domain-level or epic-specific)\n\n**Example**:\n```bash\ncd ~/src/worktrees/ml-workflow-intercom\ncat .orc/bead_id\n# orc-az7\n\nbd list --tree\n# Shows:\n# orc-az7 - ORC Workflow Integration\n#   ‚îú‚îÄ .1 - Agent lifecycle patterns\n#   ‚îî‚îÄ .design - Design Phase\n#\n# orc-ikf [NORTH-STAR] - ORC Beads Practices (domain:beads-integration)\n```\n\n### Flag: Show All\n\n`bd list --tree --all` shows everything (current behavior)\n\n**Alternative flag names**:\n- `--all` / `-a`\n- `--global` / `-g`\n- `--no-context`\n\n### Outside Worktrees\n\nWhen `.orc/bead_id` doesn't exist, default to showing everything (current behavior).\n\n```bash\ncd ~/src/orc  # Not a worktree, no .orc/bead_id\nbd list --tree\n# Shows all beads (backward compatible)\n```\n\n## Implementation\n\n### 1. Read .orc/bead_id\n\n```go\nfunc readOrcBeadID() (string, error) {\n    // Check for .orc/bead_id in current directory or parent directories\n    beadIDPath := findOrcFile(\"bead_id\")\n    if beadIDPath == \"\" {\n        return \"\", nil  // No context file found\n    }\n    \n    content, err := os.ReadFile(beadIDPath)\n    if err != nil {\n        return \"\", err\n    }\n    \n    return strings.TrimSpace(string(content)), nil\n}\n\nfunc findOrcFile(filename string) string {\n    // Walk up directory tree looking for .orc/filename\n    dir, _ := os.Getwd()\n    for {\n        path := filepath.Join(dir, \".orc\", filename)\n        if _, err := os.Stat(path); err == nil {\n            return path\n        }\n        \n        parent := filepath.Dir(dir)\n        if parent == dir {\n            break  // Reached root\n        }\n        dir = parent\n    }\n    return \"\"\n}\n```\n\n### 2. Filter Tree View\n\n```go\nfunc listTreeCommand(cmd *cobra.Command, args []string) error {\n    showAll, _ := cmd.Flags().GetBool(\"all\")\n    \n    var filterEpicID string\n    if !showAll {\n        beadID, err := readOrcBeadID()\n        if err != nil {\n            // Warn but continue with all beads\n            fmt.Fprintf(os.Stderr, \"Warning: failed to read .orc/bead_id: %v\\n\", err)\n        }\n        if beadID != \"\" {\n            filterEpicID = beadID\n        }\n    }\n    \n    // Fetch beads\n    beads := fetchAllBeads()\n    \n    // If filtering, find epic + descendants + north stars\n    if filterEpicID != \"\" {\n        beads = filterToEpicContext(beads, filterEpicID)\n    }\n    \n    // Render tree\n    renderTree(beads)\n}\n```\n\n### 3. Context Filtering Logic\n\n```go\nfunc filterToEpicContext(allBeads []Bead, epicID string) []Bead {\n    filtered := []Bead{}\n    \n    // 1. Add the epic itself\n    epic := findBead(allBeads, epicID)\n    if epic == nil {\n        return allBeads  // Epic not found, show all\n    }\n    filtered = append(filtered, *epic)\n    \n    // 2. Add all descendants (children, grandchildren, etc.)\n    descendants := findDescendants(allBeads, epicID)\n    filtered = append(filtered, descendants...)\n    \n    // 3. Add north stars\n    // Option A: Domain-level north star\n    domainLabel := extractDomainLabel(epic.Labels)\n    if domainLabel != \"\" {\n        northStars := findBeadsByLabels(allBeads, []string{\n            domainLabel,\n            \"kind:north-star\",\n        })\n        filtered = append(filtered, northStars...)\n    }\n    \n    // Option B: Epic-specific north star (depends on epic)\n    epicNorthStars := findBeadsDependingOn(allBeads, epicID, \"kind:north-star\")\n    filtered = append(filtered, epicNorthStars...)\n    \n    return filtered\n}\n\nfunc findDescendants(beads []Bead, parentID string) []Bead {\n    descendants := []Bead{}\n    \n    // Direct children (hierarchical IDs like epic.1, epic.2)\n    for _, bead := range beads {\n        if strings.HasPrefix(bead.ID, parentID+\".\") {\n            descendants = append(descendants, bead)\n            // Recursively get their children\n            descendants = append(descendants, findDescendants(beads, bead.ID)...)\n        }\n    }\n    \n    // Dependency children (depends on parent with type parent-child)\n    for _, bead := range beads {\n        for _, dep := range bead.Dependencies {\n            if dep.DependsOnID == parentID \u0026\u0026 dep.Type == \"parent-child\" {\n                descendants = append(descendants, bead)\n                descendants = append(descendants, findDescendants(beads, bead.ID)...)\n            }\n        }\n    }\n    \n    return descendants\n}\n```\n\n### 4. CLI Flag\n\n```go\nlistCmd.Flags().BoolP(\"all\", \"a\", false, \"Show all beads (ignore .orc/bead_id context)\")\n```\n\n### 5. Help Text\n\n```\nbd list --tree\n\nBy default, shows only the current epic context when .orc/bead_id exists:\n  - Epic from .orc/bead_id\n  - All descendant beads\n  - Related north stars (domain-level or epic-specific)\n\nFlags:\n  -a, --all    Show all beads (ignore context)\n\nExamples:\n  bd list --tree              # Show current epic context\n  bd list --tree --all        # Show all beads\n  bd list --tree -a           # Short form\n```\n\n## Edge Cases\n\n### Multiple .orc/bead_id in Tree\nWalk up directory tree, use first found (closest to current directory).\n\n### Bead ID Not Found\nIf `.orc/bead_id` contains invalid ID, warn and show all beads.\n\n### Worktree vs Non-Worktree\n- Inside worktree with `.orc/bead_id`: Filter by default\n- Outside worktree: Show all by default (backward compatible)\n\n### CI/Scripts\nScripts that rely on seeing all beads should use `bd list --tree --all`.\n\n## Benefits\n\n1. **Focus**: Only see relevant work when in a worktree\n2. **Clarity**: Less noise, easier to scan\n3. **Discovery**: North stars automatically shown\n4. **Backward compatible**: No .orc/bead_id = current behavior\n5. **Override**: `--all` flag when you need full view\n\n## Integration with ORC\n\n### /bootstrap Command\nAlready reads `.orc/bead_id`, so context is established.\n\n### Worktree Creation\n`/worktree` writes `.orc/bead_id`, enabling context filtering.\n\n### Cross-Worktree Queries\nUse `bd list --tree --all` when you need to see everything.\n\n## Testing\n\n```bash\n# Test 1: Context filtering\ncd ~/src/worktrees/ml-test\necho \"orc-az7\" \u003e .orc/bead_id\nbd list --tree  # Should show only orc-az7 + descendants + north stars\n\n# Test 2: --all flag\nbd list --tree --all  # Should show everything\n\n# Test 3: No context\ncd ~/src/orc\nbd list --tree  # Should show everything (no .orc/bead_id)\n\n# Test 4: Invalid bead ID\necho \"invalid-id\" \u003e .orc/bead_id\nbd list --tree  # Should warn and show all\n\n# Test 5: Nested directories\ncd ~/src/worktrees/ml-test/subdir\nbd list --tree  # Should find ../.orc/bead_id and filter\n```\n\n## Related Work\n\n- orc-f7z.1 - Tree view formatting (renders filtered results)\n- orc-f7z.4 - Special tag rendering (north star display)\n- orc-az7.1.2 - ORC design doc (defines .orc/bead_id)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T23:59:42.882388Z","updated_at":"2025-12-16T23:59:42.882388Z","labels":["domain:beads-integration","repo:beads"],"dependencies":[{"issue_id":"orc-f7z.5","depends_on_id":"orc-f7z","type":"parent-child","created_at":"2025-12-16T23:59:42.88312Z","created_by":"daemon"}]}
{"id":"orc-f7z.6","title":"Enforce hierarchy depth limits","description":"Add validation to enforce hierarchy depth limits when creating beads.\n\n## Motivation\n\nDeep nesting (\u003e5 levels) becomes cognitively overwhelming and hard to navigate. Beads should enforce practical depth limits to maintain readability.\n\n## Current Behavior\n\nBeads has `MaxHierarchyDepth = 3` for numeric children, but:\n- Not enforced for semantic suffixes (e.g., `epic.design.implement.research.1.2.3`)\n- No total depth validation across mixed semantic + numeric IDs\n- No helpful error messages explaining the limit\n\n## Proposed Behavior\n\n### Validation Rules\n\n1. **Total depth: 5 levels maximum**\n   - Count all segments (semantic + numeric)\n   - Example: `orc-xyz.design.1.1.1` = 5 levels (valid)\n   - Example: `orc-xyz.design.1.1.1.1` = 6 levels (invalid)\n\n2. **Numeric depth: 3 levels after last semantic**\n   - `epic.1.2.3` = valid (3 numeric)\n   - `epic.1.2.3.4` = invalid (4 numeric)\n   - `epic.design.1.2.3` = valid (semantic resets count)\n\n3. **Semantic depth: 2 levels maximum**\n   - `epic.design` = valid (1 semantic)\n   - `epic.design.implement` = valid (2 semantic)\n   - `epic.design.implement.test` = invalid (3 semantic)\n\n### Error Messages\n\n```bash\nbd create \"Task\" --id orc-xyz.1.2.3.4\n# Error: Maximum numeric depth (3) exceeded\n# Current: orc-xyz.1.2.3.4 (4 numeric levels)\n# Suggestion: Create as child of orc-xyz.1.2.3 instead\n\nbd create \"Task\" --id orc-xyz.design.implement.test\n# Error: Maximum semantic depth (2) exceeded\n# Current: orc-xyz.design.implement.test (3 semantic levels)\n# Suggestion: Use only 1-2 semantic suffixes (e.g., orc-xyz.implement)\n\nbd create \"Task\" --id orc-xyz.design.1.2.3.4\n# Error: Maximum total depth (5) exceeded\n# Current: orc-xyz.design.1.2.3.4 (6 total levels)\n# Suggestion: Reduce nesting or create separate epic\n```\n\n## Implementation\n\n### 1. Update Validation Logic\n\nFile: `internal/types/id_generator.go`\n\n```go\nconst (\n    MaxTotalDepth    = 5  // Maximum total levels (semantic + numeric)\n    MaxNumericDepth  = 3  // Maximum numeric levels after last semantic\n    MaxSemanticDepth = 2  // Maximum semantic suffix levels\n)\n\n// ValidateHierarchicalDepth checks if ID respects depth limits\nfunc ValidateHierarchicalDepth(id string) error {\n    parts := strings.Split(id, \".\")\n    if len(parts) == 1 {\n        return nil  // Root ID, no hierarchy\n    }\n    \n    root := parts[0]\n    suffixes := parts[1:]\n    \n    // Count total depth\n    totalDepth := len(suffixes)\n    if totalDepth \u003e MaxTotalDepth {\n        return fmt.Errorf(\n            \"maximum total depth (%d) exceeded: %s has %d levels\",\n            MaxTotalDepth, id, totalDepth+1,\n        )\n    }\n    \n    // Find last semantic suffix\n    lastSemanticIdx := -1\n    semanticCount := 0\n    for i, suffix := range suffixes {\n        if !isNumeric(suffix) {\n            lastSemanticIdx = i\n            semanticCount++\n        }\n    }\n    \n    // Check semantic depth\n    if semanticCount \u003e MaxSemanticDepth {\n        return fmt.Errorf(\n            \"maximum semantic depth (%d) exceeded: %s has %d semantic suffixes\",\n            MaxSemanticDepth, id, semanticCount,\n        )\n    }\n    \n    // Count numeric depth after last semantic\n    numericDepth := 0\n    if lastSemanticIdx \u003e= 0 {\n        numericDepth = len(suffixes) - lastSemanticIdx - 1\n    } else {\n        numericDepth = len(suffixes)\n    }\n    \n    if numericDepth \u003e MaxNumericDepth {\n        return fmt.Errorf(\n            \"maximum numeric depth (%d) exceeded: %s has %d numeric levels\",\n            MaxNumericDepth, id, numericDepth,\n        )\n    }\n    \n    return nil\n}\n\nfunc isNumeric(s string) bool {\n    _, err := strconv.Atoi(s)\n    return err == nil\n}\n```\n\n### 2. Integrate with Create Command\n\nFile: `cmd/bd/create.go`\n\n```go\n// When --id is specified\nif explicitID != \"\" {\n    if err := types.ValidateHierarchicalDepth(explicitID); err != nil {\n        return fmt.Errorf(\"invalid ID hierarchy: %w\", err)\n    }\n}\n\n// When --parent is specified\nif parentID != \"\" {\n    childID := types.GenerateChildID(parentID, childNumber)\n    if err := types.ValidateHierarchicalDepth(childID); err != nil {\n        return fmt.Errorf(\"cannot create child: %w\", err)\n    }\n}\n```\n\n### 3. Add Help Documentation\n\n```bash\nbd create --help\n\nHierarchy Depth Limits:\n  Total depth:    5 levels maximum (epic ‚Üí phase ‚Üí feature ‚Üí attempt ‚Üí subtask)\n  Numeric depth:  3 levels after last semantic suffix\n  Semantic depth: 2 semantic suffixes maximum\n\n  Examples:\n    ‚úì orc-xyz.design.1.2.3         (5 total, 3 numeric, 1 semantic)\n    ‚úì orc-xyz.design.implement.1   (4 total, 1 numeric, 2 semantic)\n    ‚úó orc-xyz.1.2.3.4.5.6          (7 total - exceeds limit)\n    ‚úó orc-xyz.a.b.c.d              (5 semantic - exceeds limit)\n```\n\n## Testing\n\n```go\nfunc TestValidateHierarchicalDepth(t *testing.T) {\n    tests := []struct {\n        id      string\n        valid   bool\n        errMsg  string\n    }{\n        // Valid cases\n        {\"orc-xyz\", true, \"\"},\n        {\"orc-xyz.1\", true, \"\"},\n        {\"orc-xyz.1.2.3\", true, \"\"},\n        {\"orc-xyz.design\", true, \"\"},\n        {\"orc-xyz.design.1.2.3\", true, \"\"},\n        {\"orc-xyz.design.implement.1\", true, \"\"},\n        \n        // Invalid: total depth\n        {\"orc-xyz.1.2.3.4.5.6\", false, \"maximum total depth\"},\n        \n        // Invalid: numeric depth\n        {\"orc-xyz.1.2.3.4\", false, \"maximum numeric depth\"},\n        \n        // Invalid: semantic depth\n        {\"orc-xyz.a.b.c\", false, \"maximum semantic depth\"},\n    }\n    \n    for _, tt := range tests {\n        err := ValidateHierarchicalDepth(tt.id)\n        if tt.valid \u0026\u0026 err != nil {\n            t.Errorf(\"%s should be valid, got error: %v\", tt.id, err)\n        }\n        if !tt.valid \u0026\u0026 err == nil {\n            t.Errorf(\"%s should be invalid\", tt.id)\n        }\n        if !tt.valid \u0026\u0026 err != nil \u0026\u0026 !strings.Contains(err.Error(), tt.errMsg) {\n            t.Errorf(\"error should contain %q, got: %v\", tt.errMsg, err)\n        }\n    }\n}\n```\n\n## Edge Cases\n\n### Grandfather Existing Beads\nDon't retroactively invalidate existing beads that exceed limits. Only enforce for new creations.\n\n### Migration Path\nIf semantic suffixes are added later, existing deep numeric hierarchies stay valid:\n- Existing: `orc-xyz.1.2.3.4` (4 numeric, invalid for new)\n- Stays: valid (grandfathered)\n- New: `orc-xyz.design.1.2.3.4` (invalid, rejected)\n\n## Benefits\n\n1. **Readability** - Prevents overwhelming nesting\n2. **Consistency** - Clear rules across semantic + numeric IDs\n3. **Helpful errors** - Clear messages guide users to correct structure\n4. **Documented** - Limits are in help text and north star\n\n## Documentation\n\nUpdate north star (orc-ikf) to reference this enforcement - already done in \"Hierarchy Depth Limits\" section.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:19:21.430702Z","updated_at":"2025-12-17T00:19:21.430702Z","labels":["domain:beads-integration","repo:beads"],"dependencies":[{"issue_id":"orc-f7z.6","depends_on_id":"orc-f7z","type":"parent-child","created_at":"2025-12-17T00:19:21.431501Z","created_by":"daemon"}]}
{"id":"orc-f7z.7","title":"Semantic suffix pattern for hierarchical IDs","description":"Support semantic suffixes like epic.design, epic.implement instead of random IDs for phase beads.\n\nBenefits:\n- Memorable phase IDs (orc-az7.design vs orc-6op)\n- Self-documenting hierarchy\n- Easier conversation and navigation\n\nImplementation:\n- Allow semantic suffixes in ID parser (epic.design, epic.implement, etc.)\n- Render in tree view as children with semantic relationship\n- Preserve .1, .2 numeric children under semantic phases\n- Document valid semantic suffix patterns\n\nExamples:\n- epic.design ‚Üí epic.design.1, epic.design.2\n- epic.implement ‚Üí epic.implement.1, epic.implement.2\n- epic.test ‚Üí epic.test.1\n\nReference: orc-az7.1.2 design doc, section on semantic suffixes","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:29:36.917916Z","updated_at":"2025-12-17T00:29:36.917916Z","labels":["domain:beads-integration","repo:beads"],"dependencies":[{"issue_id":"orc-f7z.7","depends_on_id":"orc-f7z","type":"parent-child","created_at":"2025-12-17T00:29:36.918526Z","created_by":"daemon"}]}
{"id":"orc-fuf","title":"Full rebuild test","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:27:54.655301Z","updated_at":"2025-12-17T00:27:54.655301Z"}
{"id":"orc-h3y","title":"Test color-animal ID generation","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:08:17.05581Z","updated_at":"2025-12-17T00:08:17.05581Z"}
{"id":"orc-ikf","title":"ORC Beads Practices \u0026 Standards","description":"Long-lived reference for how ORC uses beads effectively across all work.\n\n## Domain Organization\n\nThis north star belongs to the **domain:beads-integration** domain. Domain labels organize cross-cutting concerns that span multiple epics.\n\n**Pattern:**\n```\ndomain:beads-integration (label defines the domain)\n‚îú‚îÄ orc-ikf [NORTH-STAR] - Standards for the domain\n‚îú‚îÄ orc-az7 - Workflow Integration epic\n‚îú‚îÄ orc-esl - Vim Plugin epic\n‚îî‚îÄ orc-f7z - CLI Enhancements epic\n```\n\n**Query the domain:**\n```bash\nbd list --label domain:beads-integration  # Shows all work + north star\n```\n\n**Principles:**\n- Domain label connects related work across multiple epics\n- North star has the same domain label, making it discoverable\n- No dependency needed - the label IS the organizing principle\n- One north star per domain\n\n## Phase-Based Epic Organization\n\nFor complex epics, use **L1 phase beads** (separate bead IDs with dependencies) instead of flat sequential children.\n\n### Structure Pattern\n\nPhase beads depend on the epic, creating visual separation:\n\n```\nepic (0/0) - Work description\n  ‚îÇ\n  ‚îú‚îÄ phase-1 [RESEARCH] - Investigation\n  ‚îÇ   ‚îú‚îÄ .1 - Subtask\n  ‚îÇ   ‚îî‚îÄ .2 - Subtask\n  ‚îÇ\n  ‚îú‚îÄ phase-2 [DESIGN] - Architecture\n  ‚îÇ   ‚îî‚îÄ .1 - Design decisions\n  ‚îÇ\n  ‚îú‚îÄ phase-3 - Implementation\n  ‚îÇ   ‚îú‚îÄ .1 - Work item\n  ‚îÇ   ‚îî‚îÄ .2 - Work item\n  ‚îÇ\n  ‚îî‚îÄ phase-4 [NORTH-STAR] - Guiding principles\n```\n\n### When to Use Phase-Based vs Flat\n\n**Use phase-based when:**\n- Epic has 10+ work items\n- Work naturally groups into phases\n- Independent completion tracking needed\n- Concurrent work on different phases\n\n**Use flat sequential when:**\n- \u003c10 work items\n- Linear progression\n- Simple tracking needs\n\n### Common Phase Patterns\n\n**Full lifecycle:**\n- [NORTH-STAR] - Guiding principles (optional)\n- [RESEARCH] - Investigation\n- [DESIGN] - Architecture decisions\n- Implementation - Main work\n- [TEST] - Testing \u0026 validation\n- [RELEASE] - Deployment\n\n**Bug fix:**\n- [RESEARCH] - Root cause analysis\n- [BUGFIX] - Fix implementation\n- [TEST] - Regression tests\n\n## Bead Classification: kind:* Labels\n\nUse kind:* labels to categorize beads by nature.\n\n### Documentation Beads\n- **kind:design** - Architectural decisions, workflow patterns, system design\n- **kind:research** - Investigation findings, analysis, discoveries\n- **kind:doc** - General documentation (process, context, guides)\n- **kind:north-star** - Alignment rubric/guidance for an epic or domain\n\n### Work Beads\n- **kind:work-order** - Default - generic work items (features, tasks)\n- **kind:bugfix** - Bug fixes and corrections\n- **kind:test** - Testing work (writing tests, test infrastructure)\n- **kind:release** - Release-related work (changelogs, deployment)\n\n## Status Progression\n\n### Design Beads\n```\nin_progress (actively designing)\n  ‚Üì\nready (design complete, ready to implement)\n  ‚Üì\nclosed (implementation done \u0026 verified)\n```\n\nkind:design beads use status=in_progress while actively designing, then transition to status=ready when design is complete and ready for implementation.\n\n### Custom Status Configuration\n```bash\nbd config set status.custom \"ready\"  # Already configured in ORC\n```\n\n## Bead Naming Conventions\n\n### Avoid Redundant Milestone Numbering\nWhen creating child beads, hierarchical IDs already encode ordering. Do NOT add \"Milestone N:\" to titles.\n\n**Pattern:**\n- ‚ùå Bad: \"Milestone 1: CLI Interface\"\n- ‚úÖ Good: \"CLI Interface\"\n\n**Rationale:** IDs like epic.1, epic.2, epic.3 already provide ordering context.\n\n## Design Principles\n\n1. **Every worktree has a bead** - Always tracked, no fast path\n2. **Opt-in tracking** - Beads created automatically, but lightweight\n3. **Temporary scaffolding** - Markdown for review, deleted after\n4. **Permanent structure** - Beads are source of truth\n5. **Persistent breadcrumbs** - Files retained for context\n6. **Single namespace** - Orchestration metadata in .orc/\n7. **Git-ignored** - Orchestration metadata doesn't pollute repos\n8. **Persistent vs ephemeral** - Beads for team artifacts, not Claude's internal planning\n9. **Hierarchy depth limits** - Maximum 5 total levels for readability (epic ‚Üí phase ‚Üí feature ‚Üí attempt ‚Üí subtask)\n\n## Hierarchy Depth Limits\n\n**Maximum nesting: 5 levels**\n\nDeep nesting becomes unreadable and hard to navigate. Enforce practical limits:\n\n**Structure:**\n```\nLevel 1: Epic                          (orc-crimson-falcon)\nLevel 2: Phase (semantic suffix)       (.design, .implement, .test, .release)\nLevel 3: Feature/Component             (.implement.1, .implement.2)\nLevel 4: Implementation Attempt        (.implement.1.1, .implement.1.2)\nLevel 5: MAX - Simple subtasks only    (.implement.1.1.1)\n```\n\n**Rules:**\n1. **Total depth: 5 levels maximum** - Beyond this is cognitively overwhelming\n2. **Numeric nesting: 3 levels** - Beads enforces this for numeric children (epic.1.2.3)\n3. **Semantic suffixes reset numeric depth** - `epic.design.1.2.3` is valid (1 semantic + 3 numeric)\n4. **North stars are separate** - Never nested within epic hierarchy\n\n**Anti-patterns:**\n- ‚ùå `epic.design.1.research.1.analysis.1` - Too many semantic suffixes\n- ‚ùå `epic.1.2.3.4.5.6` - Exceeds numeric depth limit\n- ‚ùå `epic.design.1 [NORTH-STAR]` - North star nested inside epic\n\n**Good patterns:**\n- ‚úÖ `epic.design.1` - Phase ‚Üí work item\n- ‚úÖ `epic.implement.2.1` - Phase ‚Üí feature ‚Üí attempt\n- ‚úÖ `epic.implement.2.1.3` - Phase ‚Üí feature ‚Üí attempt ‚Üí subtask (max depth)\n\n**Enforcement:** See orc-f7z.6 for implementation of depth validation in beads CLI\n\n## Multi-Repo Usage\n\nORC works across multiple repositories using:\n- BEADS_DB environment variable pointing to ORC database\n- repo:* labels for cross-repo visibility\n- Shared .beads/ directory in ORC repo\n\n```bash\nexport BEADS_DB=\"/Users/looneym/src/orc/.beads/beads.db\"\n```\n\n## Label Taxonomy\n\nORC uses structured labels with special prefixes to organize and categorize work.\n\n### domain:* Labels\n\n**Purpose**: Organize cross-cutting concerns that span multiple epics\n\n**Format**: `domain:{name}` (lowercase, hyphenated)\n\n**Examples**:\n- `domain:beads-integration` - All work related to beads integration\n- `domain:infrastructure` - Infrastructure and deployment work\n- `domain:testing-framework` - Testing tooling and frameworks\n\n**Usage**:\n```bash\n# Create epic with domain\nbd create \"Epic title\" --type epic\nbd label add orc-xyz domain:beads-integration\n\n# Query all work in domain\nbd list --label domain:beads-integration\n\n# Domain-level north star also has domain label\nbd create \"North Star: Beads Practices\" --type task\nbd label add orc-abc kind:north-star domain:beads-integration\n```\n\n**Principles**:\n- One domain can have many epics\n- One domain has one north star (kind:north-star + domain:*)\n- Domain label is the organizing principle (no dependencies needed)\n- All work in domain shares the label\n\n**Tree view**: Domain labels should be extracted and displayed specially, not inline with other labels\n\n### kind:* Labels\n\n**Purpose**: Categorize beads by their nature/type of work\n\n**Format**: `kind:{type}` (lowercase, single-word)\n\n**Documentation beads**:\n- `kind:design` - Architectural decisions, workflow patterns, system design\n- `kind:research` - Investigation findings, analysis, discoveries\n- `kind:doc` - General documentation (process, context, guides)\n- `kind:north-star` - Alignment rubric for epic or domain\n\n**Work beads**:\n- `kind:work-order` - Default generic work (hidden in tree view)\n- `kind:bugfix` - Bug fixes and corrections\n- `kind:test` - Testing work, test infrastructure\n- `kind:release` - Release-related work (changelogs, deployment)\n\n**Usage**:\n```bash\n# Add kind label to categorize work\nbd create \"Design Phase\" --type task --parent orc-epic\nbd label add orc-epic.1 kind:design\n\n# Query by kind\nbd list --label kind:design\nbd list --label kind:north-star\n```\n\n**Status progression for kind:design**:\n```\nin_progress (actively designing)\n  ‚Üì\nready (design complete, ready to implement)\n  ‚Üì\nclosed (implementation done \u0026 verified)\n```\n\n**Tree view**: kind labels are displayed as colored uppercase badges:\n- `[DESIGN]` - Blue\n- `[RESEARCH]` - Yellow\n- `[DOC]` - Cyan\n- `[NORTH-STAR]` - Special treatment\n- `[BUGFIX]` - Red\n- `[TEST]` - Green\n- `[RELEASE]` - Magenta\n- `kind:work-order` - Hidden (default type)\n\n### repo:* Labels\n\n**Purpose**: Identify which repository owns the work\n\n**Format**: `repo:{repository-name}` (lowercase, hyphenated)\n\n**Examples**:\n- `repo:orc` - Work in ORC repository\n- `repo:beads` - Work in beads repository\n- `repo:intercom` - Work in intercom monorepo\n- `repo:infrastructure` - Work in infrastructure repository\n\n**Usage**:\n```bash\n# Add repo label to indicate ownership\nbd create \"Update worktree command\" --type task\nbd label add orc-xyz repo:orc\n\n# Feature request for beads CLI\nbd create \"Tree view enhancement\" --type task\nbd label add orc-abc repo:beads\n\n# Query work by repository\nbd list --label repo:orc\nbd list --label repo:beads\n```\n\n**Multi-repo workflow**:\nORC uses `BEADS_DB` environment variable to share one beads database across multiple repositories:\n\n```bash\nexport BEADS_DB=\"/Users/looneym/src/orc/.beads/beads.db\"\n\n# Work in any repo, all tracked centrally\ncd ~/src/intercom \u0026\u0026 bd list --label repo:intercom\ncd ~/src/beads \u0026\u0026 bd list --label repo:beads\ncd ~/src/orc \u0026\u0026 bd list --label repo:orc\n```\n\n**Tree view**: repo labels are displayed as `@repo` prefix:\n- `@orc` - Gray (informational)\n- `@beads` - Gray (informational)\n- `@intercom` - Gray (informational)\n\n### Label Combination Patterns\n\n**Domain-level north star**:\n```bash\nbd create \"ORC Beads Practices\" --type task\nbd label add orc-ikf kind:north-star domain:beads-integration repo:orc\n```\n\n**Epic with domain**:\n```bash\nbd create \"Workflow Integration\" --type epic\nbd label add orc-az7 domain:beads-integration repo:orc\n```\n\n**Design phase in epic**:\n```bash\nbd create \"Design Phase\" --type task --parent orc-az7\nbd label add orc-az7.1 kind:design domain:beads-integration repo:orc\n```\n\n**Feature request for external repo**:\n```bash\nbd create \"Color-animal IDs\" --type task --parent orc-f7z\nbd label add orc-f7z.3 domain:beads-integration repo:beads\n```\n\n### Query Patterns\n\n**All work in domain**:\n```bash\nbd list --label domain:beads-integration\n```\n\n**Design work across all domains**:\n```bash\nbd list --label kind:design\n```\n\n**All ORC repository work**:\n```bash\nbd list --label repo:orc\n```\n\n**North stars for specific domain**:\n```bash\nbd list --label domain:beads-integration --label kind:north-star\n```\n\n**Combine multiple filters**:\n```bash\n# All design work in beads repo for beads-integration domain\nbd list --label domain:beads-integration --label kind:design --label repo:beads\n```\n\n### Label Validation\n\n**Valid patterns**:\n- `domain:beads-integration` ‚úÖ\n- `kind:design` ‚úÖ\n- `repo:orc` ‚úÖ\n\n**Invalid patterns**:\n- `domains:test` ‚ùå (should be `domain:`, singular)\n- `kind:designing` ‚ùå (should use standard kind values)\n- `repos:orc` ‚ùå (should be `repo:`, singular)\n- `domain:` ‚ùå (missing value)\n\n**Best practices**:\n- Use lowercase, hyphenated names\n- Keep names short and memorable\n- Be consistent across related work\n- Document domain names in north stars","status":"ready","priority":1,"issue_type":"task","created_at":"2025-12-16T23:26:34.882086Z","updated_at":"2025-12-17T00:18:42.097171Z","labels":["domain:beads-integration","kind:north-star","repo:orc"]}
{"id":"orc-ju9","title":"Demonstrate color-animal IDs in action","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T00:22:07.121825Z","updated_at":"2025-12-17T00:22:07.121825Z"}
{"id":"orc-test","title":"Test Epic","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-16T23:40:01.522411Z","updated_at":"2025-12-16T23:40:53.076931Z","closed_at":"2025-12-16T23:40:53.076934Z"}
{"id":"orc-test.1","title":"Test Numeric Child","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:40:40.120984Z","updated_at":"2025-12-16T23:40:53.237902Z","closed_at":"2025-12-16T23:40:53.237905Z","dependencies":[{"issue_id":"orc-test.1","depends_on_id":"orc-test","type":"parent-child","created_at":"2025-12-16T23:40:40.121662Z","created_by":"daemon"}]}
{"id":"orc-test.design","title":"Test Design Phase","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:40:06.688674Z","updated_at":"2025-12-16T23:40:53.401361Z","closed_at":"2025-12-16T23:40:53.401364Z"}
{"id":"orc-test.implement","title":"Test Implement Phase","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T23:40:24.243572Z","updated_at":"2025-12-16T23:40:53.567604Z","closed_at":"2025-12-16T23:40:53.567607Z"}
{"id":"orc-z4r","title":"Investigate why color-animal IDs not working in main orc database","description":"## Status\n\nColor-animal ID generation system has been fully implemented and tested, but is not functioning in the main orc database despite config being set correctly.\n\n## What Was Implemented\n\nSuccessfully implemented color-animal ID generation as an alternative to hash-based IDs (closes orc-f7z.3.1):\n\n### Files Created:\n- `internal/storage/sqlite/word_lists.go` - 20 colors √ó 50 animals = 1000 combinations\n- `internal/storage/sqlite/color_animal_ids.go` - Core generator with collision handling\n- `internal/storage/sqlite/color_animal_ids_test.go` - Comprehensive test suite\n\n### Files Modified:\n- `internal/storage/sqlite/ids.go` - Added routing logic in GenerateIssueID() and GenerateBatchIssueIDs()\n- `cmd/bd/config.go` - Added documentation for id.style config\n\n### Test Results:\n‚úÖ All 9 color-animal tests passing\n‚úÖ 99.4% coverage of all 1000 combinations reachable\n‚úÖ Collision handling works with numeric suffixes\n‚úÖ Hierarchical IDs work (purple-wombat.1)\n‚úÖ Format validation works\n\n## What Works\n\nCreated fresh test database and successfully generated color-animal IDs:\n\n```bash\ncd /tmp \u0026\u0026 rm -f test_color.db\nBEADS_DB=/tmp/test_color.db bd init --prefix test\nBEADS_DB=/tmp/test_color.db bd config set id.style color-animal\nBEADS_DB=/tmp/test_color.db bd create --title=\"Color animal test\" --type=task --priority=2\n# ‚úì Created issue: test-brown-walrus  \u003c-- SUCCESS!\n```\n\n## What Doesn't Work\n\nMain orc database ($BEADS_DB=/Users/looneym/src/orc/.beads/beads.db) continues generating hash-based IDs even though:\n\n1. Config is set correctly:\n   ```bash\n   bd config get id.style\n   # color-animal\n   \n   sqlite3 $BEADS_DB \"SELECT * FROM config WHERE key = 'id.style'\"\n   # id.style|color-animal\n   ```\n\n2. Binary has been rebuilt multiple times:\n   - `go install ./cmd/bd`\n   - `go clean -cache \u0026\u0026 go build`\n   - `go build -a` (force rebuild all)\n\n3. Code inspection shows routing logic is present:\n   ```bash\n   strings ~/go/bin/bd | grep \"DEBUG: GenerateIssueID\"\n   # Found in binary\n   ```\n\n4. But creating issues still produces hash IDs:\n   ```bash\n   bd create --title=\"Test\" --type=task --priority=2\n   # ‚úì Created issue: orc-ep4  \u003c-- Hash ID, not color-animal!\n   ```\n\n## Debug Attempts Made\n\n1. ‚úÖ Verified config in database with sqlite3\n2. ‚úÖ Rebuilt binary with `go install`\n3. ‚úÖ Cleared go build cache with `go clean -cache`\n4. ‚úÖ Force rebuilt all with `go build -a`\n5. ‚úÖ Verified strings are in compiled binary\n6. ‚úÖ Tested in fresh database (works!)\n7. ‚ùå Added debug output via fmt.Fprintf(os.Stderr) - no output appeared\n8. ‚ùå Added os.Stderr.WriteString() with Sync() - still no output\n\n## Theories to Investigate\n\n1. **Build cache issue**: Despite rebuilds, old code cached somewhere\n2. **Multiple binaries**: `bd` command resolving to different binary than expected\n3. **Different code path**: Transaction vs non-transaction path difference\n4. **Database-specific issue**: Something about orc database preventing config read\n5. **Import/module issue**: go.mod resolving to wrong package version\n\n## Next Steps\n\n1. Add logging to confirm GenerateIssueID is actually being called\n2. Verify which bd binary is being executed: `which bd` vs `go install`\n3. Check if transaction code path (transaction.go:153) vs direct path differs\n4. Test with strace/dtrace to see actual SQL queries being executed\n5. Compare fresh test DB schema vs orc DB schema for differences\n6. Check if there's a vendored or replace directive in go.mod\n\n## Implementation Details\n\nThe routing logic is simple and should work:\n\n```go\nfunc GenerateIssueID(ctx context.Context, conn *sql.Conn, prefix string, issue *types.Issue, actor string) (string, error) {\n    var idStyle string\n    err := conn.QueryRowContext(ctx, `SELECT value FROM config WHERE key = ?`, \"id.style\").Scan(\u0026idStyle)\n    \n    if err == nil \u0026\u0026 idStyle == \"color-animal\" {\n        return generateColorAnimalIDWithRetry(ctx, conn, prefix, issue, actor)\n    }\n    \n    // Default: hash-based logic\n    ...\n}\n```\n\nConfig query works in standalone Go program, so not a SQLite driver issue.\n\n## Files Changed\n\nCommit: b8136bbe - feat: implement color-animal ID generation system\nCommit: 751779d5 - chore: clean up debug code\n\nBranch: feature/list-tree-view","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-17T00:29:38.340795Z","updated_at":"2025-12-17T00:29:38.340795Z"}
